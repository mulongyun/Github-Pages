<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>任务2</title>
	<style>
		#big{
			width: 425px;
			height: 200px;
		}
		#text{
			width:200px;
			height: 30px;
		}
		#search{
			width:200px;
			height: 30px;
		}
		#history{
			width:330px;
			height: 100px;
			border: 1px #fff solid;
			float:left;
		}
		#bor{
			background-color:rgb(199, 188, 188);
			float:left;
			margin:8px;
		}
		#cha{
			float:right;
		}
	</style>
</head>
<body>
	<div id="big">
		<input type="text" id="text" placeholder="请输入想查找的商品">
		<input type="button" value="搜索" id="search">
		<br>
		<p>最近搜索</p>  
		<div id="history"></div>
		<img src="chahao.png" id="cha">
	</div>
</body>
<script>
	// 点击搜索实现添加历史记录
	var s=document.getElementById("search");	
	var his=document.getElementById("history");
	s.onclick=function(){
		var now=new Date().getTime();
		var text=document.getElementById("text").value;
		localStorage.setItem(now,text);
		var div=document.createElement("div");
		div.innerHTML=localStorage.getItem(now);
		his.appendChild(div);
		div.setAttribute('id',"bor");
	}
	//点击叉号图片实现清除所有历史记录
	var c=document.getElementById("cha");
		c.onclick=function(){
			localStorage.clear();
			his.innerHTML="";
		}
	window.onload=function(){
			for(var i=0;i<localStorage.length;i++){
				var div=document.createElement("div");
				div.innerHTML=localStorage.getItem(localStorage.key(i));
				his.appendChild(div);
				div.setAttribute('id',"bor");
			}
	}
	</script>
<ml>
